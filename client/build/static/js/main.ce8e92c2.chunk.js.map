{"version":3,"sources":["components/assets/BCHlogo.png","components/firebase.js","components/Navbar.js","components/pages/Home.js","components/pages/Upload.js","components/pages/Dashboard.js","components/pages/Login.js","App.js","reportWebVitals.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","googleProvider","getAnalytics","GoogleAuthProvider","facebookProvider","FacebookAuthProvider","signInWithGoogle","a","signInWithPopup","res","user","getIdTokenResult","then","idTokenResult","token","console","log","axios","post","uid","name","displayName","authProvider","email","headers","response","error","alert","message","signInWithFacebook","logout","signOut","MainNav","button","Styles","styled","div","useAuthState","Nav","className","Link","onClick","href","Navbar","Container","Brand","style","color","Image","src","BCHlogo","alt","Toggle","Home","loading","useState","history","useHistory","useEffect","replace","Upload","Form","Group","controlId","class","Label","Control","type","width","backgroundColor","Dashboard","setName","fetchUserName","collection","where","get","query","docs","data","Button","Login","textDecoration","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ce8e92c2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/BCHlogo.0d2773d9.png\";","import { getAnalytics } from \"firebase/analytics\";\nimport firebase from \"firebase/compat/app\";\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\nimport axios from \"axios\";\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBsq899DDVYofdoPCf2bqVBwHw_lvhejyE\",\n    authDomain: \"als-message-banking.firebaseapp.com\",\n    projectId: \"als-message-banking\",\n    storageBucket: \"als-message-banking.appspot.com\",\n    messagingSenderId: \"490757581389\",\n    appId: \"1:490757581389:web:f9b333a23d6ab25a4cca04\",\n    measurementId: \"G-YX8E8LDL9S\"\n  };\n  \n  const app = firebase.initializeApp(firebaseConfig);\n  const auth = app.auth();\n  const db = app.firestore();\n  const analytics = getAnalytics(app);\n  const googleProvider = new firebase.auth.GoogleAuthProvider();\n  const facebookProvider = new firebase.auth.FacebookAuthProvider();\n\n  const signInWithGoogle = async () => {\n    try {\n      const res = await auth.signInWithPopup(googleProvider);\n      res.user.getIdTokenResult().then(async idTokenResult => {\n        const user = res.user;\n        const token = \"Bearer \"+idTokenResult.token;\n        console.log(token);\n        const response = await axios.post(\"https://api-dev-z2scpwkwva-uc.a.run.app/register\",{\n              uid: user.uid,\n              name: user.displayName,\n              authProvider: \"google\",\n              email: user.email,\n            }, {\n          headers: {\n              'Content-Type': 'application/json',\n              'Authorization': token\n          },\n      })\n      console.log(response)\n      });\n      \n      // const user = res.user;\n      // const query = await db\n      //   .collection(\"users\")\n      //   .where(\"uid\", \"==\", user.uid)\n      //   .get();\n      // if (query.docs.length === 0) {\n      //   await db.collection(\"users\").add({\n      //     uid: user.uid,\n      //     name: user.displayName,\n      //     authProvider: \"google\",\n      //     email: user.email,\n      //   });\n      // }\n    } catch (err) {\n      console.error(err);\n      alert(err.message);\n    }\n  };\n  \n  const signInWithFacebook = async () => {\n    try {\n      const res = await auth.signInWithPopup(facebookProvider);\n      res.user.getIdTokenResult().then(async idTokenResult => {\n        const user = res.user;\n        const token = \"Bearer \"+idTokenResult.token;\n        console.log(token);\n        const response = await axios.post(\"https://api-dev-z2scpwkwva-uc.a.run.app/register\",{\n              uid: user.uid,\n              name: user.displayName,\n              authProvider: \"facebook\",\n              email: user.email,\n            }, {\n          headers: {\n              'Content-Type': 'application/json',\n              'Authorization': token\n          },\n      })\n      console.log(response)\n      });\n      \n      // const user = res.user;\n      // const query = await db\n      //   .collection(\"users\")\n      //   .where(\"uid\", \"==\", user.uid)\n      //   .get();\n      // if (query.docs.length === 0) {\n      //   await db.collection(\"users\").add({\n      //     uid: user.uid,\n      //     name: user.displayName,\n      //     authProvider: \"google\",\n      //     email: user.email,\n      //   });\n      // }\n    } catch (err) {\n      console.error(err);\n      alert(err.message);\n    }\n  };\n\n  const logout = () => {\n    auth.signOut();\n  };\n\n\nexport {\n    auth,\n    analytics,\n    db,\n    signInWithGoogle,\n    signInWithFacebook,\n    logout,\n  };","import React from 'react';\nimport {Navbar, Nav, Container} from 'react-bootstrap';\nimport Image from 'react-bootstrap/Image';\nimport styled from \"styled-components\";\nimport BCHlogo from \"./assets/BCHlogo.png\";\nimport \"./Navbar.css\";\n\nimport { auth, logout} from \"./firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\n\nfunction MainNav() {\n    const Styles = styled.div`\n      .navbar-custom {\n        background-color: #EEF5DB;\n      }\n      .navbar-light .nav-link {\n        color: #2ca6a4;\n        &:hover {\n          color: black;\n        }\n      }\n    `;\n\n    const [user, loading, error] = useAuthState(auth);\n    let button;\n    if (user) {\n      button = <Nav className=\"ml-auto\"><Nav.Link onClick={logout} className=\"login-item\">Log Out</Nav.Link></Nav>\n    } else {\n      button = <Nav className=\"ml-auto\"><Nav.Link href=\"/se-bch-als-msg-banking/login\" className=\"login-item\">Log In</Nav.Link></Nav>\n    }\n    return (\n        <>\n        <Styles>\n          <Navbar className=\"navbar-custom block-example border-bottom border-dark shadow\">\n              <Container>\n                  <Navbar.Brand href=\"https://www.childrenshospital.org/\" style={{color:'#1b4079'}}>\n                  <Image src={BCHlogo} alt=\"Logo\"/>\n                  ALS Message Ediging\n                  </Navbar.Brand>\n                  <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                    <Nav className=\"me-auto\">\n                        <Nav.Link href={process.env.PUBLIC_URL + \"/\"}>Home</Nav.Link>\n                        {user && <Nav.Link href={process.env.PUBLIC_URL + \"/upload\"}>Upload</Nav.Link>}\n                        <Nav.Link href={process.env.PUBLIC_URL + \"/about\"}>About Us</Nav.Link>\n                    </Nav>\n                    {button}\n              </Container>\n              </Navbar>\n            </Styles>\n            </>\n    )\n}\n\nexport default MainNav;","import React, { useEffect, useState } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useHistory } from \"react-router\";\nimport { auth, db, logout } from \"../firebase\";\n\nimport {Button} from 'react-bootstrap';\nimport './Home.css'\n\nfunction Home() {\n    const [user, loading, error] = useAuthState(auth);\n    const [name, setName] = useState(\"\");\n    const history = useHistory();\n    useEffect(() => {\n      if (loading) {\n        // maybe trigger a loading screen\n        return;\n      }\n      if (user) history.replace(process.env.PUBLIC_URL + \"/dashboard\");\n    }, [user, loading]);\n    return (\n        <>\n        <h1 className=\"home-header text-center\">\n            Rediscover your voice\n        </h1>\n        <h2 className=\"home-header text-center\">\n            ALS Voice Editing\n        </h2>\n        </>\n    )\n\n}\n\nexport default Home;","import {Form} from 'react-bootstrap';\nimport { auth, logout} from \"../firebase\";\nimport { useHistory } from \"react-router\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport React, {useEffect} from 'react';\n\nfunction Upload() {\n    const [user, loading, error] = useAuthState(auth);\n\n    const submitAudio = () => {\n        \n    }\n\n    const history = useHistory();\n    useEffect(() => {\n        if (loading) {\n          // maybe trigger a loading screen\n          return;\n        }\n        if (!user) history.replace(\"/home\");\n      }, [user, loading]);\n    return (\n        <div>\n            <Form.Group controlId=\"formFile\" class=\"col-lg-6 offset-lg-3\" >\n                <div className=\"row justify-content-center\">\n                    <Form.Label>Label your File</Form.Label>\n                    <Form.Control type=\"input\" style={{width:'50%'}} name=\"title\"></Form.Control>\n                    <Form.Label>Upload your data</Form.Label>\n                    <Form.Control type=\"file\" style={{width:'50%'}} name=\"fileName\"/>\n                    <Form.Control type=\"submit\" onClick={submitAudio} style={{width:'20%', backgroundColor:'#2ca6a4'}}/>\n                </div>\n            </Form.Group>\n        </div>\n    );\n}\n\nexport default Upload;","import React, { useEffect, useState } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useHistory } from \"react-router\";\nimport { auth, db, logout } from \"../firebase\";\n\nimport {Button} from 'react-bootstrap';\nimport './Dashboard.css'\n\nfunction Dashboard() {\n    const [user, loading, error] = useAuthState(auth);\n    const [name, setName] = useState(\"\");\n    const history = useHistory();\n    const fetchUserName = async () => {\n        try {\n          const query = await db\n            .collection(\"users\")\n            .where(\"uid\", \"==\", user?.uid)\n            .get();\n          const data = await query.docs[0].data();\n          setName(data.name);\n        } catch (err) {\n          console.error(err);\n          alert(\"An error occured while fetching user data\");\n        }\n      };\n      useEffect(() => {\n        if (loading) return;\n        if (!user) return history.replace(process.env.PUBLIC_URL +\"/\");\n        fetchUserName();\n      }, [user, loading]);\n    return (\n        <>\n        <h1 className=\"dashboard-header text-center\">\n            Rediscover your voice\n        </h1>\n        <h2 className=\"dashboard-header text-center\">\n            ALS Voice Editing\n        </h2>\n        <br/>\n        <div class=\"col-md-12 text-center\">\n            <Button className=\"align-center\" href={process.env.PUBLIC_URL + \"/Upload\"}>Upload your audio</Button>\n            <div>\n            Logged in as\n            <div>{name}</div>\n            <div>{user?.email}</div>\n            <Button onClick={logout}>\n            Logout\n            </Button>\n        </div>\n        </div>\n        </>\n    )\n\n}\n\nexport default Dashboard;","import React, { useEffect, useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { auth, signInWithFacebook, signInWithGoogle } from \"../firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport \"./Login.css\";\n\nfunction Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [user, loading, error] = useAuthState(auth);\n  const history = useHistory();\n  useEffect(() => {\n    if (loading) {\n      // maybe trigger a loading screen\n      return;\n    }\n    if (user) history.replace(process.env.PUBLIC_URL + \"/dashboard\");\n  }, [user, loading]);\n  return (\n    <>\n    <div>\n      <h1 className=\"login-header text-center\">\n        Login to use ALS Message Banking services\n      </h1>\n    </div>\n    <div className=\"login\">\n      <div className=\"login__container\">\n        <button className=\"login__btn login__google\" onClick={signInWithGoogle}>\n          Login with Google\n        </button>\n        <button className=\"login__btn login__facebook\" onClick={signInWithFacebook} style={{textDecoration:'line-through'}}>\n          Login with Facebook\n        </button>\n      </div>\n    </div>\n    </>\n  );\n}\nexport default Login;","import './App.css';\nimport MainNav from \"./components/Navbar\";\nimport Home from \"./components/pages/Home\";\nimport Upload from \"./components/pages/Upload\";\nimport Dashboard from \"./components/pages/Dashboard\";\nimport Login from \"./components/pages/Login\";\n\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport React from 'react';\n\n\n\nfunction App() {\n  return (\n    <div>\n      <Router>\n        <MainNav />\n        <br />\n        <Switch>\n            <Route exact path={process.env.PUBLIC_URL + \"/\"} component={Home} />\n            <Route path={process.env.PUBLIC_URL + \"/upload\"} component={Upload} />\n            <Route path={process.env.PUBLIC_URL + \"/dashboard\"} component={Dashboard} />\n            <Route path={process.env.PUBLIC_URL + \"/login\"} component={Login} />\n          </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}